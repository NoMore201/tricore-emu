{
  "version": 2,
  "cmakeMinimumRequired": {
    "major": 3,
    "minor": 14,
    "patch": 0
  },
  "configurePresets": [
    {
      "name": "ci",
      "generator": "Ninja",
      "binaryDir": "${sourceDir}/out/build/${presetName}",
      "cacheVariables": {
        "CMAKE_BUILD_TYPE": "Release",
        "CMAKE_TOOLCHAIN_FILE": "${sourceDir}/third_party/vcpkg/scripts/buildsystems/vcpkg.cmake",
        "VCPKG_MANIFEST_FEATURES": "test",
        "BUILD_TESTING": "ON"
      }
    },
    {
      "name": "ci-sanitize",
      "binaryDir": "${sourceDir}/out/build/${presetName}",
      "generator": "Ninja",
      "cacheVariables": {
        "CMAKE_BUILD_TYPE": "Sanitize",
        "CMAKE_CXX_FLAGS_SANITIZE": "-U_FORTIFY_SOURCE -O2 -g -fsanitize=address,undefined -fno-omit-frame-pointer -fno-common",
        "CMAKE_MAP_IMPORTED_CONFIG_SANITIZE": "Sanitize;RelWithDebInfo;Release;Debug;",
        "BUILD_TESTING": "ON"
      }
    },
    {
      "name": "debug-clang-ubuntu",
      "description": "Debug in ubuntu dev container with Clang 18",
      "generator": "Ninja",
      "binaryDir": "${sourceDir}/out/build/${presetName}",
      "cacheVariables": {
        "CMAKE_CXX_COMPILER": "clang++-18",
        "CMAKE_BUILD_TYPE": "Debug",
        "CMAKE_TOOLCHAIN_FILE": "${sourceDir}/third_party/vcpkg/scripts/buildsystems/vcpkg.cmake",
        "VCPKG_MANIFEST_FEATURES": "test",
        "BUILD_TESTING": "ON"
      }
    },
    {
      "name": "mingw-gcc",
      "description": "Windows setup with MinGW GCC",
      "generator": "Ninja",
      "binaryDir": "${sourceDir}/out/build/${presetName}",
      "cacheVariables": {
        "CMAKE_BUILD_TYPE": "RelWithDebInfo",
        "CMAKE_TOOLCHAIN_FILE": "${sourceDir}/third_party/vcpkg/scripts/buildsystems/vcpkg.cmake",
        "VCPKG_MANIFEST_FEATURES": "test",
        "VCPKG_HOST_TRIPLET": "x64-mingw-static",
        "VCPKG_TARGET_TRIPLET": "x64-mingw-static",
        "BUILD_TESTING": "ON",
        "CMAKE_EXPORT_COMPILE_COMMANDS": "ON"
      }
    },
    {
        "name": "msvc",
        "description": "Debug in Visual Studio with MSVC compiler",
        "generator": "Ninja",
        "architecture": {
            "value": "x64",
            "strategy": "external"
        },
        "binaryDir": "${sourceDir}/out/build/${presetName}",
        "cacheVariables": {
            "CMAKE_BUILD_TYPE": "RelWithDebInfo",
            "BUILD_TESTING": "ON",
            "CMAKE_INSTALL_PREFIX": "${sourceDir}/out/install/${presetName}",
            "CMAKE_TOOLCHAIN_FILE": "$env{VCPKG_ROOT}/scripts/buildsystems/vcpkg.cmake",
            "VCPKG_MANIFEST_FEATURES": "test"
        }
    },

    {
        "name": "clang-cl",
        "description": "Debug in Visual Studio with Clang compiler",
        "generator": "Ninja",
        "architecture": {
            "value": "x64",
            "strategy": "external"
        },
        "binaryDir": "${sourceDir}/out/build/${presetName}",
        "cacheVariables": {
            "CMAKE_BUILD_TYPE": "RelWithDebInfo",
            "BUILD_TESTING": "ON",
            "CMAKE_CXX_COMPILER": "clang-cl",
            "CMAKE_INSTALL_PREFIX": "${sourceDir}/out/install/${presetName}",
            "CMAKE_TOOLCHAIN_FILE": "$env{VCPKG_ROOT}/scripts/buildsystems/vcpkg.cmake",
            "VCPKG_MANIFEST_FEATURES": "test"
        },
        "vendor": {
            "microsoft.com/VisualStudioSettings/CMake/1.0": {
                "intelliSenseMode": "windows-clang-x64"
            }
        }
    }
  ]
}
